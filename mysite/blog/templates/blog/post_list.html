{% extends "blog/base.html" %}
{% block title %}
  Index
{% endblock %}
{% block content %}

  <h1>Home Page</h1>

  <div class="centerstage">

    {% for post in post_list %}
      <div class="post">
        <h1><a href="{% url 'post_detail' pk=post.pk %}"> {{ post.title }}</a></h1>
        <div class="date">
          {# Filtering_by #}
          <p>Published on: {{ post.published_date|date:"D M Y" }}</p>
        </div>
         {# Injecting the comments count, by calling the count attribute off of post.approved_comment. #}
        <a href="{% url 'post_detail' pk=post.pk %}">Comments: {{ post.approved_comments.count }}</a>
      </div>
    {% endfor %}

  </div>


{% endblock %}
